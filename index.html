<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sele√ß√£o de Livros</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            height: 100vh;
            overflow: hidden;
        }
        header {
            background-color: #4285F4;
            color: white;
            padding: 20px;
            text-align: center;
        }
        .content {
            display: flex;
            flex: 1;
            overflow: hidden;
        }
        .left-panel {
            background-color: white;
            padding: 20px;
            width: 300px;
            border-right: 1px solid #ddd;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        .user-info {
            margin-bottom: 20px;
        }
        .user-info h2 {
            margin: 0;
        }
        .user-info p {
            color: gray;
        }
        .book-list {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }
        .search-bar {
            display: flex;
            margin-bottom: 20px;
        }
        .search-bar input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px 0 0 5px;
        }
        .search-bar button {
            padding: 10px;
            background-color: #4285F4;
            border: none;
            color: white;
            border-radius: 0 5px 5px 0;
            cursor: pointer;
        }
        .book-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 15px;
            padding: 10px;
            background-color: white;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .book-item input {
            margin-right: 10px;
        }
        .format-buttons {
            display: flex;
        }
        .format-buttons button {
            margin-left: 10px;
            padding: 5px 10px;
            font-size: 12px;
            cursor: pointer;
            border: none;
            border-radius: 3px;
        }
        .pdf-button {
            background-color: #f4b400;
            color: white;
        }
        .physical-button {
            background-color: #34A853;
            color: white;
        }
        .button-submit {
            width: 100%;
            padding: 15px;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            background-color: #34A853;
            color: white;
            margin-top: 10px;
        }
        .button-donate {
            width: 90%;
            padding: 15px;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            background-color: #F4A261;
            color: white;
            margin-top: 10px;
            text-decoration: none; /* Remove sublinhado do link */
            text-align: center; /* Centraliza o texto do link */
            display: inline-block; /* Permite o padding e outras propriedades */
        }
        .button-donate:hover {
            background-color: #e38b61; /* Alterar cor ao passar o mouse */
        }

        .button-sair {
            width: 90%;
            padding: 15px;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            background-color: #6461f4;
            color: white;
            margin-top: 10px;
            text-decoration: none; /* Remove sublinhado do link */
            text-align: center; /* Centraliza o texto do link */
            display: inline-block; /* Permite o padding e outras propriedades */
        }
        .button-sair:hover {
            background-color: #6461f4; /* Alterar cor ao passar o mouse */
        }
        footer {
            background-color: #f0f0f0;
            padding: 20px;
            text-align: center;
            color: gray;
        }
    </style>
</head>
<body>

<header>
    <h1>Biblioteca Virtual</h1>
</header>

<div class="content">
    <!-- Painel Lateral -->
    <div class="left-panel">
        <div class="user-info">
            <h2>Bem-vindo Leitor</h2>
            <p>Seu Ranking: 1500 pontos</p>
        </div>

        <!-- Bot√£o para enviar livros escolhidos -->
        <button class="button-submit" onclick="submitBooks()">Enviar Livros Escolhidos</button>

        <!-- Novo Link "Doe Livros" -->
        <a href="doar.html" class="button-donate">Doe livros</a>
        <a href="login.html" class="button-sair">Sair</a>
    </div>

    <!-- Lista de Livros -->
    <div class="book-list">
        <!-- Barra de Pesquisa -->
        <div class="search-bar">
            <input type="text" id="search" placeholder="Busque por um livro...">
            <button onclick="searchBook()">
                üîç <!-- √çcone de Lupa -->
            </button>
        </div>

        <!-- Lista Infinita de Livros -->
        <div id="books-container">
            <!-- Os livros ser√£o carregados aqui -->
        </div>
    </div>
</div>

<footer>
    &copy; 2024 - Biblioteca Virtual
</footer>

<script>
    // Simulando uma lista de livros
    const books = [
        "O Senhor dos An√©is",
        "Harry Potter",
        "Game of Thrones",
        "O Pequeno Pr√≠ncipe",
        "A Culpa √© das Estrelas",
        "Cem Anos de Solid√£o",
        "Dom Quixote",
        "O Hobbit",
        "O C√≥digo Da Vinci",
        "O Morro dos Ventos Uivantes",
        "Os Miser√°veis",
        "Moby Dick",
        "Orgulho e Preconceito",
        "A Revolu√ß√£o dos Bichos",
        "1984",
        "O Grande Gatsby"
    ];

    // Fun√ß√£o para carregar livros com scroll infinito
    let bookIndex = 0;
    const booksPerLoad = 5;

    function loadBooks() {
        const booksContainer = document.getElementById('books-container');
        for (let i = 0; i < booksPerLoad; i++) {
            if (bookIndex >= books.length) return; // Para de carregar se n√£o houver mais livros
            const book = books[bookIndex];
            const bookItem = document.createElement('div');
            bookItem.classList.add('book-item');
            bookItem.innerHTML = `
                <div>
                    <input type="checkbox" id="book${bookIndex}">
                    <label for="book${bookIndex}">${book}</label>
                </div>
                <div class="format-buttons">
                    <button class="pdf-button" onclick="selectFormat('${book}', 'PDF')">PDF</button>
                    <button class="physical-button" onclick="selectFormat('${book}', 'Livro F√≠sico')">Livro f√≠sico</button>
                </div>
            `;
            booksContainer.appendChild(bookItem);
            bookIndex++;
        }
    }

    // Carregar os primeiros livros quando a p√°gina √© carregada
    window.onload = loadBooks;

    // Detectar scroll e carregar mais livros
    document.querySelector('.book-list').addEventListener('scroll', function () {
        const { scrollTop, scrollHeight, clientHeight } = this;
        if (scrollTop + clientHeight >= scrollHeight - 5) {
            loadBooks(); // Carregar mais livros
        }
    });

    // Fun√ß√£o de busca
    function searchBook() {
        const searchValue = document.getElementById('search').value.toLowerCase();
        const books = document.querySelectorAll('.book-item');

        books.forEach(function(book) {
            const label = book.querySelector('label').innerText.toLowerCase();
            if (label.includes(searchValue)) {
                book.style.display = 'flex';
            } else {
                book.style.display = 'none';
            }
        });
    }

    // Fun√ß√£o para selecionar formato de livro
    function selectFormat(book, format) {
        alert(`Voc√™ escolheu o formato ${format} para o livro "${book}"`);
    }

    // Fun√ß√£o para enviar livros selecionados
    function submitBooks() {
        const selectedBooks = [];
        const books = document.querySelectorAll('.book-item input');

        books.forEach(function(book) {
            if (book.checked) {
                const label = book.nextElementSibling.innerText;
                selectedBooks.push(label);
            }
        });

        alert('Livros selecionados: ' + selectedBooks.join(', '));
    }
</script>

</body>
</html>
